(function(a,d){var c="pagination";var b="__pagination-";d.fn[c]=function(h){if(typeof h==="undefined"){return this}var f=d(this);var e={initialize:function(){g.totalPage=this.calTotalPage(g.totalNumber,g.pageSize);this.model={pageRange:g.pageRange,pageSize:g.pageSize,totalNumber:g.totalNumber,totalPage:g.totalPage,pageChanges:g.pageChanges,isFirstRender:true};var i=this;var j=this.model;f.addClass("paginationjs");var k=d("<div class='paginationjs-pages'></div>");j.el=k;f.append(d("<div class='paginationjs-content'></div>"));f.append(k);if(g.totalPage>1){j.isFirstRender=false}j.content=d(".paginationjs-content",f);j.hidePagination=function(){d(".paginationjs-pages",f).hide();j.content.height(j.content.parent().height());j.isFirstRender=true};j.setPageRowCount=function(l){g.pageSize=l;this.pageSize=l;this.totalPage=i.calTotalPage(g.totalRowCount,l);this.pageNumber=1;i.renderPages(j);i.render()};j.setTotalRowCount=function(l,m){g.totalNumber=l;this.totalNumber=l;this.totalPage=i.calTotalPage(l,g.pageSize);i.renderPages(j);if(m){this.pageNumber=1}i.render()};this.observer()},renderPages:function(i){if(i.totalPage>1){i.el.show();i.content.height(i.content.parent().height()-i.el.height()-d(".fuzzy").height())}else{i.hidePagination();i.content.height(i.content.parent().height()-d(".fuzzy").height())}},calTotalPage:function(i,j){if(d.isNumeric(i)){return Math.ceil(i/j)}},render:function(){var i=this.model,l=f,k=i.pageNumber||g.pageNumber,p=g.pageRange,j=i.totalPage,o=g.totalNumber=i.totalNumber,n=k-p,m=k+p;if(m>j){m=j;n=j-p*2;n=n<1?1:n}if(n<=1){n=1;m=Math.min(p*2+1,j)}d(".paginationjs-pages",l).html(this.createTemplate({currentPage:k,totalPage:j,rangeStart:n,rangeEnd:m}));return l},createTemplate:function(o){var A=o.currentPage,r=o.totalPage,G=o.rangeStart,y=o.rangeEnd,s=g.totalNumber,u=g.prevText,k=g.nextText,F=g.ellipsisText,n=g.classPrefix,p=g.showGoInput,q=g.showGoButton,v=g.showFirstButton,x=g.showLastButton,l=g.showPageDetail,E=g.showAllPages,H=g.showPages,w=g.firstText,m=g.lastText,D=g.pageIndicatorCount,t="<ul>",B;if(A===1){if(v){t+='<li class="'+n+'-firstpage disabled" title="First Page"><a>'+w+"</a></li>"}t+='<li class="'+n+'-prev disabled"><a>'+u+"</a></li>"}else{if(v){t+='<li class="'+n+'-firstpage" title="First Page"><a>'+w+"</a></li>"}t+='<li class="'+n+'-prev paginationjs-previous" data-num="'+(A-1)+'" title="Previous page"><a>'+u+"</a></li>"}if(E){if(G>D){t+='<li class="'+n+"-page "+n+'-first paginationjs-page" data-num="1"><a>1</a></li><li class="'+n+'-ellipsis disabled"><a>'+F+"</a></li>"}else{for(var B=1;B<G;B++){t+='<li class="'+n+"-page "+n+'-first paginationjs-page" data-num="'+B+'"><a>'+B+"</a></li>"}}}if(H){var C;C=parseInt((D-1)/2);if(C>=A){C=A-1}if(r>=D&&r-A<Math.ceil((D-1)/2)){C+=C-(r-A)}if(r<D){C=A-1}for(var z=C;z>=1;z--){t+='<li class="'+n+"-page "+n+'-first paginationjs-page" data-num="'+(A-z)+'"><a>'+(A-z)+"</a></li>"}}for(B=G;B<=y;B++){if(B==A){t+='<li class="'+n+'-page paginationjs-page active" data-num="'+B+'"><a>'+B+"</a></li>"}else{t+='<li class="'+n+'-page paginationjs-page" data-num="'+B+'"><a>'+B+"</a></li>"}}if(H){var C=Math.ceil((D-1)/2);if(r-A<C){C-=C-(r-A)}if(r>=D&&A<=parseInt((D-1)/2)){C+=parseInt((D-1)/2)-(A-1)}if(r<D){C=r-A}for(var B=1;B<=C;B++){t+='<li class="'+n+"-page "+n+'-first paginationjs-page" data-num="'+(A+B)+'"><a>'+(A+B)+"</a></li>"}}if(E){if(y>=r-2){for(B=y+1;B<=r;B++){t+='<li class="'+n+'-page paginationjs-page" data-num="'+B+'"><a>'+B+"</a></li>"}}else{t+='<li class="'+n+'-ellipsis disabled"><a>'+F+'</a></li><li class="'+n+"-page "+n+'-last paginationjs-page" data-num="'+r+'"><a>'+r+"</a></li>"}}if(A==r){t+='<li class="'+n+'-next disabled"><a>'+k+"</a></li>";if(x){t+='<li class="'+n+'-lastpage disabled" title="Last Page"><a>'+m+"</a></li>"}}else{t+='<li class="'+n+'-next paginationjs-next" data-num="'+(A+1)+'" title="Next page"><a>'+k+"</a></li>";if(x){t+='<li class="'+n+'-lastpage" title="Last Page"><a>'+m+"</a></li>"}}t+="</ul>";if(l){t+='<div class="'+n+'-nav"> 共'+s+"条记录 </div>"}if(p){t+='<div class="'+n+'-go-input"><input type="text" class="paginationjs-go-pagenumber"/>/'+r+"页</div>"}if(q){t+='<div class="'+n+'-go-button"> <input type="button" class="paginationjs-go-button" value="Go"/>'}return t},go:function(n){var k=this;if(k.disabled){return}var l=k.model,j=n,i=g.pageSize,m=l.totalPage;j=parseInt(j);l.direction=typeof l.pageNumber==="undefined"?0:(j>l.pageNumber?1:-1);l.pageNumber=j;if(m!=1){k.render()}k.doCallback(j-1)},doCallback:function(j){var k=this.model;var i=this;if(d.isFunction(k.pageChanges)){k.pageChanges(j)}},delay_till_last:function(l,j,k){var i=this._timer||{};if(i[l]){window.clearTimeout(i[l]);delete i[l]}return i[l]=window.setTimeout(function(){j();delete i[l]},k)},observer:function(){var i=this;var j=i.model.el;f.on(b+"go",function(m,l,k){i.go(l)});j.delegate(".paginationjs-page","click",function(l){var m=d(l.currentTarget);if(m.hasClass("disabled")){return}var k=d.trim(m.attr("data-num"));if(!k||m.hasClass("active")){return}i.go(k)});j.delegate(".paginationjs-previous","click",d.debounce(100,function(l){var m=d(l.currentTarget);if(m.hasClass("disabled")){return}var k=d.trim(m.attr("data-num"));if(!k){return}i.go(k)}));j.delegate(".paginationjs-next","click",d.debounce(100,function(l){var m=d(l.currentTarget);if(m.hasClass("disabled")){return}var k=d.trim(m.attr("data-num"));if(!k){return}i.go(k)}));j.delegate("input.paginationjs-go-button","click",function(){var k=d(".paginationjs-go-pagenumber",j).val();if(!d.isNumeric(k)){return}f.trigger(b+"go",k)});j.delegate(".paginationjs-go-pagenumber","keyup",function(l){if(l.which===13){var k=d(l.currentTarget).val();if(!d.isNumeric(k)){return}f.trigger(b+"go",k);d(".paginationjs-go-pagenumber",j).focus()}});j.delegate(".paginationjs-firstpage","click",function(){if(d(this).hasClass("disabled")){return}i.go(1)});j.delegate(".paginationjs-lastpage","click",function(){if(d(this).hasClass("disabled")){return}i.go(i.model.totalPage)});f.trigger(b+"go",Math.min(g.pageNumber,i.model.totalPage))}};var g=d.extend({},arguments.callee.defaults,h);e.initialize();return e.model};d.fn[c].defaults={totalNumber:1,pageNumber:1,pageSize:10,totalPage:1,pageRange:0,prevText:"",nextText:"",firstText:"",lastText:"",ellipsisText:"...",classPrefix:"paginationjs",showGoInput:false,showGoButton:false,showNavigator:false,showFirstButton:true,showLastButton:true,showPageDetail:true,showAllPages:false,showPages:false,pageIndicatorCount:3,pageChanges:function(){}}})(this,window.jQuery);