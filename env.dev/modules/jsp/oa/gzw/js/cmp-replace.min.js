void function(Ext){function searchAndReplaceCmpConfig(billForm,condition,callback){function visit(obj){if(!(objectsVisited.indexOf(obj)>=0))if(objectsVisited[countVisited++]=obj,Ext.isArray(obj))for(var i=0,len=obj.length;len>i;i++)visit(obj[i]);else if(Ext.isObject(obj)){if(condition.call(self,obj))return callback.call(self,obj),void 0;for(var p in obj)obj.hasOwnProperty(p)&&visit(obj[p])}}var objectsVisited=[],countVisited=0,self=this;visit(billForm),objectsVisited=null}function getRefReplacements(ref){if(Ext.isString(ref)&&ref)return cmpReplacements[ref];if(Ext.isArray(ref)){var refReplacements={};return Ext.each(ref,function(refItem){Ext.apply(refReplacements,cmpReplacements[refItem.substring(4)])}),refReplacements}return ref}function isNullOrEmptyObject(obj){if(obj&&Ext.isObject(obj))for(var p in obj)if(obj.hasOwnProperty(p))return!1;return!0}Ext.replaceCmpConfig=function(componentReplacements){cmpReplacements=Ext.apply(componentReplacements||{},cmpReplacements||null)};var cmpReplacements=null;MAP_UIOptCenter.on("beforedealcmd",function(req,resp){if(cmpReplacements&&resp&&Ext.isObject(resp)&&resp.metaKey&&resp.billform){var replacements=Ext.applyIf(getRefReplacements(cmpReplacements[resp.metaKey])||{},getRefReplacements(cmpReplacements._ALL_));isNullOrEmptyObject(replacements)||searchAndReplaceCmpConfig(resp.billform,function(cmpConfig){return cmpConfig.__key&&cmpConfig.xtype&&!0},function(cmpConfig){var replc=replacements[cmpConfig.xtype];if(replc&&(Ext.isFunction(replc)&&(replc=replc.call(this,cmpConfig,req,resp)),replc))if(Ext.isString(replc))cmpConfig.xtype=replc;else if(Ext.isObject(replc)){if(Ext.isObject(replc.defaults))Ext.apply(cmpConfig,replc.defaults);else if(Ext.isFunction(replc.getConfig)){var newConfig=replc.getConfig.call(this,cmpConfig,req,resp);for(var p in cmpConfig)cmpConfig.hasOwnProperty(p)&&delete cmpConfig[p];Ext.apply(cmpConfig,newConfig)}Ext.isString(replc.replaceWith)&&replc.replaceWith&&Ext.apply(cmpConfig,{xtype:replc.replaceWith})}})}})}(window.Ext);