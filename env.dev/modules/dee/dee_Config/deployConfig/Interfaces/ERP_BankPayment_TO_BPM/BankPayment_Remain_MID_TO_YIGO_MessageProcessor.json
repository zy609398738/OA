{
  "response": [
    {
      "text": "记录二次发起生成银行付款单接口日志",
      "description": "",
      "scriptContent": "String expMsg = \"\";\nMap rsmap = new HashMap();\nif (message.getExceptionPayload() != null)\n{\n    message.setOutboundProperty(\"http.status\", 200);\n    expMsg = message.getExceptionPayload().getRootException().getMessage();\n    if (expMsg.length() > 3500)\n    {\n        expMsg = expMsg.substring(0, 3000);\n    }\n    message.setExceptionPayload(null);\n    rsmap.put(\"code\", \"0003\");\n    rsmap.put(\"msg\", \"同步失败！\");\n}\nelse\n{\n    rsmap.put(\"code\", \"0002\");\n    rsmap.put(\"msg\", \"同步成功！\");\n    rsmap.put(\"data\", payload);\n}\nMap logmap = message.getInboundProperty(\"logmap\");\nObject[] o = new Object[10];\no[0] = \"BankPayment_flow\";\no[1] = \"开始\";\no[2] = \"B_BankPayment\";\no[3] = \"\";\no[4] = logmap.get(\"begintime\");\no[5] = new java.text.SimpleDateFormat(\"yyyyMMdd HH:mm:ss.SSS\").format(new java.sql.Timestamp(java.lang.System.currentTimeMillis()));\no[6] = \"\";\no[7] = \"\";\no[8] = expMsg;\no[9] = \"BankPayment_Tmp_Remain_TO_YIGO\";\ndbop.saveOrUpdate(\"insert into TRINA_SL_INTERFACE_LOG(id,flow,node,billkey,oid,starttime,endtime,request_data,response_data,EXCEPTION,interface_type)values(Trina_SL_Interface_Log_ID_SEQ.Nextval,?,?,?,?,?,?,?,?,?,?)\", o, false);\nreturn rsmap.get(\"code\");",
      "smallType": "GroovyScriptWithDS",
      "className": "com.bokesoft.exchange.transformer.ScriptWithDSTransformer",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "ds": "2c9081d05be7e572015be80fcb64000f",
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7b895bfe0045"
    }
  ],
  "normal": [
    {
      "text": "二次发起分发数据生成银行付款单入口",
      "description": "分发数据生成银行付款单入口（二次发起）",
      "address": "vm://BankPayment_Tmp_Remain_TO_YIGO",
      "exchange_pattern": "request-response",
      "className": "",
      "smallType": "VM",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "inbound",
      "simpleMpLog": "false",
      "encoding": "UTF-8",
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7b82df8e003a"
    },
    {
      "text": "启动JDBC事务",
      "description": "启动数据库事务",
      "smallType": "StartTxTransformer",
      "className": "com.bokesoft.dee.transport.transaction.StartTxTransformer",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "GGPZTransformer",
      "isRef": "true",
      "id": "8aaae0b75f7b7add015f7b8a8bc40046"
    },
    {
      "text": "记录二次发起分发数据生成银行付款单开始时间",
      "description": "记录分发数据生成银行付款单开始时间（二次发起）",
      "scriptContent": "String begintime = new java.text.SimpleDateFormat(\"yyyyMMdd HH:mm:ss.SSS\").format(new java.sql.Timestamp(java.lang.System.currentTimeMillis()));\nMap logmap = new HashMap();\nlogmap.put(\"begintime\", begintime);\nmessage.setInboundProperty(\"logmap\", logmap);\ncom.bokesoft.InterfaceOperator.checkTransaction(dbop, \"BankPayment_Tmp_Remain_TO_YIGO\");\nreturn payload;",
      "className": "com.bokesoft.exchange.transformer.ScriptWithDSTransformer",
      "smallType": "GroovyScriptWithDS",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "ds": "2c9081d05be7e572015be80fcb64000f",
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7b8360b0003b"
    },
    {
      "text": "查询二次发起银行付款贷项通知单数据",
      "description": "查询银行付款单贷项通知单数据（二次发起）",
      "tablePath": "B_BankPayment",
      "query": "select invoice_num as d_invoice_num,invoice_id as d_invoice_id,currency_code as d_currency_code,to_char(round(amount,5)) as d_amount, to_char(invoice_amount) as d_another_amount,description from cux.cux3_eflow_ap_detail  where item_type = '贷项通知单'   and (flag is null or flag='') and vendor_num=#[map-payload:vendor_num]",
      "smallType": "FieldValueLookUpWithDsTransformer",
      "className": "com.bokesoft.dee.mule.dataimport.FieldValueLookUpWithDsTransformer",
      "subField": "B_BankPaymentDtl",
      "firstRecode": "true",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "ds": "8aaae09b5bf03e9f015bf17bc58e061f",
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7b83f679003c"
    },
    {
      "text": "查询二次发起银行付款PO数据",
      "description": "查询银行付款单PO数据（二次发起）",
      "tablePath": "B_BankPayment",
      "query": "select distinct a.po_number as ponumber,a.po_description as podescription,b.name as poterm from apps.cux3_eflow_ap_requester a, apps.cux3_eflow_po_dtl_v b  where a.po_number=b.po_num and a.invoice_id= #[map-payload:invoice_id] and a.line_num = #[map-payload:line_num?]",
      "className": "com.bokesoft.dee.mule.dataimport.FieldValueLookUpWithDsTransformer",
      "smallType": "FieldValueLookUpWithDsTransformer",
      "subField": "B_BankPaymentPO",
      "firstRecode": "true",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "ds": "8aaae09b5bf03e9f015bf17bc58e061f",
      "isRef": "false",
      "optionOrderQueries": "[{\"value\":\"select distinct a.po_number as ponumber,a.po_description as podescription,b.name as poterm from apps.cux3_eflow_ap_requester a, apps.cux3_eflow_po_dtl_v b  where a.po_number=b.po_num and a.invoice_id= #[map-payload:invoice_id]\"}]",
      "id": "8aaae0b75f7b7add015f7b848e5f003d"
    },
    {
      "fixFields": "[{\"key\":\"mule.adapter.thing-name\",\"value\":\"B_BankPayment\"},{\"key\":\"mule.adapter.formKey\",\"value\":\"B_BankPayment\"},{\"key\":\"mule.adapter.op-plan\",\"value\":\"insert\"},{\"key\":\"mule.adapter.id-fields\",\"value\":\"GUID\"},{\"key\":\"mule.adapter.auto-delete-unknown-detail\",\"value\":\"B_BankPaymentDtl\"},{\"key\":\"mule.adapter.start-workflow\",\"value\":\"0\"},{\"key\":\"mule.adapter.return-fields\",\"value\":\"GUID,InstanceID\"}]",
      "description": "设置银行付款单表头固定值（二次发起）",
      "text": "设置二次银行付款单表头固定值",
      "tablePath": "B_BankPayment",
      "className": "com.bokesoft.dee.mule.dataimport.FixFieldsAddTransformerForYigo2",
      "smallType": "FixFieldsAddTransformerForYigo2",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "isRef": "false",
      "rowNumColumn": "norowno",
      "id": "8aaae0b75f7b7add015f7b85ae73003e"
    },
    {
      "fixFields": "[{\"key\":\"mule.adapter.thing-name\",\"value\":\"B_BankPayment\"},{\"key\":\"mule.adapter.op-plan\",\"value\":\"insert\"}]",
      "description": "设置银行付款单贷项通知单字段固定值（二次发起）",
      "text": "设置二次发起银行付款单贷项通知单字段固定值",
      "tablePath": "B_BankPayment/B_BankPaymentDtl",
      "smallType": "FixFieldsAddTransformerForYigo2",
      "className": "com.bokesoft.dee.mule.dataimport.FixFieldsAddTransformerForYigo2",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "isRef": "false",
      "rowNumColumn": "norowno",
      "id": "8aaae0b75f7b7add015f7b86255a003f"
    },
    {
      "fixFields": "[{\"key\":\"mule.adapter.thing-name\",\"value\":\"B_BankPayment\"},{\"key\":\"mule.adapter.op-plan\",\"value\":\"insert\"}]",
      "description": "设置银行付款单PO表字段固定值（二次发起）",
      "text": "设置二次发起银行付款单PO表字段固定值",
      "tablePath": "B_BankPayment/B_BankPaymentPO",
      "className": "com.bokesoft.dee.mule.dataimport.FixFieldsAddTransformerForYigo2",
      "smallType": "FixFieldsAddTransformerForYigo2",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "isRef": "false",
      "rowNumColumn": "norowno",
      "id": "8aaae0b75f7b7add015f7b86d6700040"
    },
    {
      "text": "查询二次发起银行付款单调用ERP数据",
      "description": "查询银行付款单调用ERP数据（二次发起）",
      "tablePath": "B_BankPayment",
      "smallType": "MutiFieldValueLookUpWithDsTransformer",
      "className": "com.bokesoft.dee.mule.dataimport.MutiFieldValueLookUpWithDsTransformer",
      "firstRecode": "true",
      "enable": "true",
      "queries": "[{\"value\":\"select bank_name,branch_name,bank_account_num,ext_bank_account_id as bank_account_id,iban,swift_code as swiftcode from  apps.cux3_eflow_po_vendor_bank_v where vendor_num=#[map-payload:vendor_num] and currency_code=#[map-payload:currency_code]\"},{\"value\":\"select company_code from  apps.cux3_inter_vendor_v where  segment1=#[map-payload:vendor_num]\"},{\"value\":\"select party_name,email_address from apps.cux3_eflow_vendors_contact where email_address is not null and vendor_num=#[map-payload:vendor_num]\"}]",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "ds": "8aaae09b5bf03e9f015bf17bc58e061f",
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7b8737200041"
    },
    {
      "text": "查询二次发起银行付款单表头字典数据",
      "description": "查询银行付款单调用ERP数据（二次发起）",
      "tablePath": "B_BankPayment",
      "className": "com.bokesoft.dee.mule.dataimport.MutiFieldValueLookUpWithDsTransformer",
      "smallType": "MutiFieldValueLookUpWithDsTransformer",
      "firstRecode": "true",
      "enable": "true",
      "queries": "[{\"value\":\"select oid as applicantid,code as applicantcode,name as applicantname from sys_operator  where code='autosponsor'\"},{\"value\":\"select oid as creator, code as creatorcode from sys_operator where code='autosponsor'\"},{\"value\":\"select oid as currency from dict_currency where code=#[map-payload:currency_code] and (status=0 or status=1)\"},{\"value\":\"select oid as paymentmehtod from dict_paymentmehtod where name=#[map-payload:paymentmethod_name] and (status=0 or status=1)\"},{\"value\":\"select oid as original_currency from dict_currency where code=#[map-payload:orig_currencycode] and (status=0 or status=1)\"}]",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "ds": "2c9081d05be7e572015be80fcb64000f",
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7b87bfb40042"
    },
    {
      "text": "设置二次发起银行付款单字段映射关系",
      "description": "设置字段映射关系",
      "smallType": "MapKeyMapping",
      "className": "com.bokesoft.dee.mule.yigo2.transformer.MapKeyMapping",
      "fieldExpression": "[{\"one\":\"guid\",\"two\":\"GUID\",\"three\":\"0\",\"four\":\"1\",\"five\":\"guid\"},{\"one\":\"header_id\",\"two\":\"Header_ID\",\"three\":\"0\",\"four\":\"1\",\"five\":\"header_id\"},{\"one\":\"creator\",\"two\":\"Creator\",\"three\":\"0\",\"four\":\"1\",\"five\":\"creator\"},{\"one\":\"creatorcode\",\"two\":\"CreatorCode\",\"three\":\"0\",\"four\":\"1\",\"five\":\"creatorcode\"},{\"one\":\"applicantid\",\"two\":\"ApplicantID\",\"three\":\"0\",\"four\":\"1\",\"five\":\"applicantid\"},{\"one\":\"applicantcode\",\"two\":\"ApplicantCode\",\"three\":\"0\",\"four\":\"1\",\"five\":\"applicantcode\"},{\"one\":\"applicantname\",\"two\":\"ApplicantName\",\"three\":\"0\",\"four\":\"1\",\"five\":\"applicantname\"},{\"one\":\"invoice_num\",\"two\":\"Invoice_num\",\"three\":\"0\",\"four\":\"1\",\"five\":\"invoice_num\"},{\"one\":\"invoice_id\",\"two\":\"Invoice_ID\",\"three\":\"0\",\"four\":\"1\",\"five\":\"invoice_id\"},{\"one\":\"item_type\",\"two\":\"ITEM_TYPE\",\"three\":\"0\",\"four\":\"1\",\"five\":\"item_type\"},{\"one\":\"detail_type\",\"two\":\"DETAIL_TYPE\",\"three\":\"0\",\"four\":\"1\",\"five\":\"detail_type\"},{\"one\":\"ou_code\",\"two\":\"OU_CODE\",\"three\":\"0\",\"four\":\"1\",\"five\":\"ou_code\"},{\"one\":\"ou_name\",\"two\":\"OU_NAME\",\"three\":\"0\",\"four\":\"1\",\"five\":\"ou_name\"},{\"one\":\"vendor_num\",\"two\":\"VENDOR_NUM\",\"three\":\"0\",\"four\":\"1\",\"five\":\"vendor_num\"},{\"one\":\"vendor_name\",\"two\":\"VENDOR_NAME\",\"three\":\"0\",\"four\":\"1\",\"five\":\"vendor_name\"},{\"one\":\"ap_date\",\"two\":\"AP_DATE\",\"three\":\"0\",\"four\":\"1\",\"five\":\"ap_date\"},{\"one\":\"due_date\",\"two\":\"DUE_DATE\",\"three\":\"0\",\"four\":\"1\",\"five\":\"due_date\"},{\"one\":\"paymentmehtod\",\"two\":\"PaymentMehtod\",\"three\":\"0\",\"four\":\"1\",\"five\":\"paymentmehtod\"},{\"one\":\"paymentmethod_name\",\"two\":\"PaymentMehtod_Name\",\"three\":\"0\",\"four\":\"1\",\"five\":\"paymentmethod_name\"},{\"one\":\"original_currency\",\"two\":\"Original_Currency\",\"three\":\"0\",\"four\":\"1\",\"five\":\"original_currency\"},{\"one\":\"orig_currencycode\",\"two\":\"Orig_CurrencyCode\",\"three\":\"0\",\"four\":\"1\",\"five\":\"orig_currencycode\"},{\"one\":\"currency\",\"two\":\"CURRENCY\",\"three\":\"0\",\"four\":\"1\",\"five\":\"currency\"},{\"one\":\"currency_code\",\"two\":\"CURRENCYCODE\",\"three\":\"0\",\"four\":\"1\",\"five\":\"currency_code\"},{\"one\":\"invoice_amount\",\"two\":\"INVOICE_AMOUNT\",\"three\":\"0\",\"four\":\"1\",\"five\":\"invoice_amount\"},{\"one\":\"amount\",\"two\":\"AMOUNT\",\"three\":\"0\",\"four\":\"1\",\"five\":\"amount\"},{\"one\":\"INVOICE_AMOUNT\",\"two\":\"INVOICE_AMOUNT1\",\"three\":\"0\",\"four\":\"0\",\"five\":\"INVOICE_AMOUNT\"},{\"one\":\"AMOUNT\",\"two\":\"AMOUNT1\",\"three\":\"0\",\"four\":\"0\",\"five\":\"AMOUNT\"},{\"one\":\"requestor_number\",\"two\":\"UserAccount\",\"three\":\"0\",\"four\":\"1\",\"five\":\"requestor_number\"},{\"one\":\"adaccount\",\"two\":\"BUSINESS_USER_ACCOUNT\",\"three\":\"0\",\"four\":\"1\",\"five\":\"adaccount\"},{\"one\":\"employee_number\",\"two\":\"EMPLOYEE_NUMBER\",\"three\":\"0\",\"four\":\"1\",\"five\":\"employee_number\"},{\"one\":\"employee_name\",\"two\":\"EMPLOYEE_NAME\",\"three\":\"0\",\"four\":\"1\",\"five\":\"employee_name\"},{\"one\":\"bank_name\",\"two\":\"Vendor_bank_name\",\"three\":\"0\",\"four\":\"1\",\"five\":\"bank_name\"},{\"one\":\"branch_name\",\"two\":\"Vendor_Branch_name\",\"three\":\"0\",\"four\":\"1\",\"five\":\"branch_name\"},{\"one\":\"bank_account_num\",\"two\":\"Vendor_Branch_Account_number\",\"three\":\"0\",\"four\":\"1\",\"five\":\"bank_account_num\"},{\"one\":\"bank_account_id\",\"two\":\"p_ext_bank_acc_id\",\"three\":\"0\",\"four\":\"1\",\"five\":\"bank_account_id\"},{\"one\":\"iban\",\"two\":\"IBAN\",\"three\":\"0\",\"four\":\"1\",\"five\":\"iban\"},{\"one\":\"swiftcode\",\"two\":\"Swift_Code\",\"three\":\"0\",\"four\":\"1\",\"five\":\"swiftcode\"},{\"one\":\"company_code\",\"two\":\"Vendor_Branch_ICO\",\"three\":\"0\",\"four\":\"1\",\"five\":\"company_code\"},{\"one\":\"party_name\",\"two\":\"ContactPerson\",\"three\":\"0\",\"four\":\"1\",\"five\":\"party_name\"},{\"one\":\"email_address\",\"two\":\"MailAddress\",\"three\":\"0\",\"four\":\"1\",\"five\":\"email_address\"},{\"one\":\"term_name\",\"two\":\"TERM_NAME\",\"three\":\"0\",\"four\":\"1\",\"five\":\"term_name\"},{\"one\":\"line_num\",\"two\":\"LINE_NUM\",\"three\":\"0\",\"four\":\"1\",\"five\":\"line_num\"},{\"one\":\"b_bankpaymentdtl\",\"two\":\"B_BankPaymentDtl\",\"three\":\"0\",\"four\":\"1\",\"five\":\"b_bankpaymentdtl\"},{\"one\":\"B_BankPaymentDtl.d_invoice_num\",\"two\":\"B_BankPaymentDtl.D_Invoice_Num\",\"three\":\"0\",\"four\":\"1\",\"five\":\"d_invoice_num\"},{\"one\":\"B_BankPaymentDtl.d_invoice_id\",\"two\":\"B_BankPaymentDtl.D_Invoice_ID\",\"three\":\"0\",\"four\":\"1\",\"five\":\"d_invoice_id\"},{\"one\":\"B_BankPaymentDtl.d_currency_code\",\"two\":\"B_BankPaymentDtl.D_Currency_Code\",\"three\":\"0\",\"four\":\"1\",\"five\":\"d_currency_code\"},{\"one\":\"B_BankPaymentDtl.d_amount\",\"two\":\"B_BankPaymentDtl.D_Amount\",\"three\":\"0\",\"four\":\"1\",\"five\":\"d_amount\"},{\"one\":\"B_BankPaymentDtl.d_another_amount\",\"two\":\"B_BankPaymentDtl.D_Another_Amount\",\"three\":\"0\",\"four\":\"1\",\"five\":\"d_another_amount\"},{\"one\":\"B_BankPaymentDtl.description\",\"two\":\"B_BankPaymentDtl.Description\",\"three\":\"0\",\"four\":\"1\",\"five\":\"description\"},{\"one\":\"b_bankpaymentpo\",\"two\":\"B_BankPaymentPO\",\"three\":\"0\",\"four\":\"1\",\"five\":\"b_bankpaymentpo\"},{\"one\":\"B_BankPaymentPO.ponumber\",\"two\":\"B_BankPaymentPO.PoNumber\",\"three\":\"0\",\"four\":\"1\",\"five\":\"ponumber\"},{\"one\":\"B_BankPaymentPO.podescription\",\"two\":\"B_BankPaymentPO.PoDescription\",\"three\":\"0\",\"four\":\"1\",\"five\":\"podescription\"},{\"one\":\"B_BankPaymentPO.poterm\",\"two\":\"B_BankPaymentPO.PoTerm\",\"three\":\"0\",\"four\":\"1\",\"five\":\"poterm\"}]",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "isRef": "false",
      "id": "8aaae0cd5f9e24bb015fa04bdd7e0187"
    },
    {
      "isInTransaction": "true",
      "yigoUrl": "BD{YIGO2_URL}",
      "text": "二次发起导入数据到YIGO系统",
      "description": "导入数据到YIGO系统",
      "connectTimeout": 6000,
      "isThrowException": "true",
      "smallType": "YIGO2.0",
      "className": "",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "outbound",
      "simpleMpLog": "false",
      "readTimeout": 60000,
      "id": "8aaae0cd5f9e24bb015fa04c65290188",
      "isRef": "false"
    },
    {
      "ignoreSQLError": "false",
      "text": "更新本地二次发起中间表标志字段",
      "description": "更新本地二次发起中间表标志字段",
      "className": "com.bokesoft.dee.transport.jdbc.transformer.ExecuteSQLSimpleTransformer",
      "smallType": "ExecuteSQLSimpleTransformer",
      "enable": "true",
      "queries": "[{\"value\":\"update bank_payment_remain_mid set flag=#[map-payload:InstanceID] where former_taskid=#[map-payload:GUID]\"}]",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "resultIndexOf": 1,
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7bd138800050",
      "ds": "2c9081d05be7e572015be80fcb64000f"
    },
    {
      "text": "提交或者回滚JDBC事务",
      "description": "提交或者回滚数据库事务",
      "className": "com.bokesoft.dee.transport.transaction.FinishTxTransformer",
      "smallType": "FinishTxTransformer",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "GGPZTransformer",
      "isRef": "true",
      "id": "8aaae0b75f7b7add015f7b8e0de6004c"
    }
  ],
  "exception": [
    {
      "text": "提交或者回滚JDBC事务",
      "description": "提交或者回滚数据库事务",
      "smallType": "FinishTxTransformer",
      "className": "com.bokesoft.dee.transport.transaction.FinishTxTransformer",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "GGPZTransformer",
      "isRef": "true",
      "id": "8aaae0b75f7b7add015f7b8df115004b"
    },
    {
      "text": "把异常对象转换为文本",
      "description": "把异常对象转换为文本",
      "smallType": "ExceptionMessageTransformer",
      "className": "com.bokesoft.exchange.transformer.ExceptionMessageTransformer",
      "enable": "true",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "GGPZTransformer",
      "isRef": "true",
      "id": "8aaae0b75f7b7add015f7b7ed59e0030"
    },
    {
      "path": "${bokedee.logpath.runtimeLog}/ERP_BankPayment_TO_BPM",
      "text": "记录错误日志到文件_BankPayment_Remain_MID_TO_YIGO",
      "description": "",
      "smallType": "File",
      "className": "",
      "enable": "true",
      "outputPattern": "#[function:datestamp:yyyyMMddHHmmss]-#[message:id].xml",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "outbound",
      "file_subdir": "#[context:serviceName]/#[function:datestamp:yyyyMMdd]",
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7b7ed64a0031"
    },
    {
      "text": "把异常信息替换换行符_BankPayment_Remain_MID_TO_YIGO",
      "description": "把异常信息替换换行符",
      "scriptContent": "String exceptionContent = message.getPayload();String exception = exceptionContent.replace(\"\\n\", \"<br/>\");message.setPayload(exception);return message;",
      "className": "org.mule.module.scripting.transformer.ScriptTransformer",
      "smallType": "GroovyScriptTransformer",
      "enable": "false",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "transformer_au",
      "simpleMpLog": "false",
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7b7ed6fe0032"
    },
    {
      "text": "把异常信息通过邮件发送_BankPayment_Remain_MID_TO_YIGO",
      "description": "把异常信息通过邮件发送",
      "connector_ref": "bokedee_default_smtp_connector",
      "subject": "ERP_BankPayment_TO_BPM",
      "smallType": "SMTP",
      "className": "",
      "enable": "false",
      "parentId": "8aaae0b75f7b7add015f7b7ed56b002f",
      "bigType": "outbound",
      "encoding": "UTF-8",
      "isRef": "false",
      "id": "8aaae0b75f7b7add015f7b7ed7ce0033"
    }
  ]
}