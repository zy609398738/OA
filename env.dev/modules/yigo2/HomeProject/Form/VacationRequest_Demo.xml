<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Form Caption="请假单" FormType="Entity" Key="VacationRequest_Demo">
    <DataSource>
        <DataObject Caption="内部请假单" Key="VacationRequest_Demo" PrimaryTableKey="VacationRequest" PrimaryType="Entity">
            <TableCollection>
                <Table Caption="请假单基本信息" DBTableName="VacationRequest" Key="VacationRequest" Persist="true">
                    <Column Caption="对象标识" DBColumnName="OID" DataType="Long" Key="OID" Persist="true"/>
                    <Column Caption="父对象标识" DBColumnName="POID" DataType="Long" Key="POID" Persist="true"/>
                    <Column Caption="主对象标识" DBColumnName="SOID" DataType="Long" Key="SOID" Persist="true"/>
                    <Column Caption="对象版本" DBColumnName="VERID" DataType="Integer" Key="VERID" Persist="true"/>
                    <Column Caption="对象明细版本" DBColumnName="DVERID" DataType="Integer" Key="DVERID" Persist="true"/>
                    <Column Caption="单据状态" DBColumnName="STATUS" DataType="Integer" Key="STATUS" Persist="true"/>
                    <Column Caption="工号" DataType="Varchar" Key="IDNumber" Length="50" Persist="true"/>
                    <Column Caption="姓名" DBColumnName="Name" DataType="Varchar" Key="Name" Length="50" Persist="true"/>
                    <Column Caption="开始时间" DataType="DateTime" Key="FromTime" Persist="true"/>
                    <Column Caption="结束时间" DataType="DateTime" Key="ToTime" Persist="true"/>
                    <Column Caption="事由" DataType="Varchar" Key="Reason" Length="250" Persist="true"/>
					<Column Caption="类型" DataType="Integer" Key="Type" Persist="true"/>
					<Column Caption="总计" DataType="Integer" Key="DayCount" Persist="true"/>
                </Table>
            </TableCollection>
        </DataObject>
    </DataSource>
    <OperationCollection>
        <Operation Caption="WORKITEM" Key="WORKITEM" Tag="WORKITEM"/>
        <Operation Caption="BPM" Key="BPM" Tag="BPM"/>
        <Operation Key="Save" Caption="保存" Visible="!ReadOnly()">
			<Action>
				<![CDATA[
SaveData();UpdateView();
			]]>	
			</Action>
        </Operation>
        <Operation Key="ShowAuditDetil" Caption="审批记录" Visible="ReadOnly()">
			<Action>
				<![CDATA[
ShowModal('WFLog')
			]]>	
			</Action>
		</Operation>
    </OperationCollection>
    <Body HAlign="Left" OverflowX="Visible" OverflowY="Visible">
		<!-- 如果有LayoutCollection节点，则优先在LayoutCollection节点中查找符合平台的布局 -->
	<!-- 	<LayoutCollection>
			<Layout Key="AndroidLayout" Caption="移动端安卓使用的布局" Media="Android" Rule="">
				<LinearLayout Key="main" Orientation="VERTICAL">
					<LinearItem Key="main_toolbar"/>
					<LinearItem Key="content"/>
				</LinearLayout>
				<FluidTableLayout Key="content">
					<LayoutColumnCollection>
						<LayoutColumn Width="100dp"/>
						<LayoutColumn Width="100%"/>
					</LayoutColumnCollection>
					<LayoutRowIndex Key="IDNumber"/>
					<LayoutRowIndex Key="Name"/>
					<LayoutRowIndex Key="FromTime"/>
					<LayoutRowIndex Key="ToTime"/>
					<LayoutRowIndex Key="Reason"/>
					<LayoutRowIndex Key="ComboBox"/>
					<LayoutRowIndex Key="DayCount"/>
				</FluidTableLayout>
			</Layout>
			之后的<Layout/> 可省略，如果找不到符合平台的布局，则使用 <Block/>节点的布局
			<Layout Key="PCLayout"  Caption="PC端布局" Media="All" Rule="">
				<FlexFlowLayout Key="main">
					<LayoutFlowIndex Key="main_toolbar"/>
					<LayoutFlowIndex Key="content"/>
				</FlexFlowLayout>
				<GridLayout Key="content">
					<RowDefCollection RowGap="5" RowHeight="25">
                        <RowDef/>
                        <RowDef/>
                        <RowDef/>
                        <RowDef/>
                        <RowDef/>
                        <RowDef/>
                        <RowDef Height="24px"/>
                    </RowDefCollection>
                    <ColumnDefCollection>
                        <ColumnDef Width="50%"/>
                        <ColumnDef Width="50%"/>
                    </ColumnDefCollection>
					
					<LayoutSpan Key="L_IDNumber" X="0" Y="0" />
					<LayoutSpan Key="IDNumber" X="1" Y="0" />
					<LayoutSpan Key="L_Name" X="0" Y="1" />
					<LayoutSpan Key="Name" X="1" Y="1"   />
					<LayoutSpan Key="L_FromTime" X="0" Y="2"   />
					<LayoutSpan Key="FromTime" X="1" Y="2"   />
					<LayoutSpan Key="L_ToTime" X="0" Y="3"   />
					<LayoutSpan Key="ToTime" X="1" Y="3"   />
					<LayoutSpan Key="L_Reason" X="0" Y="4"   />
					<LayoutSpan Key="Reason" X="1" Y="4"   />
					<LayoutSpan Key="L_ComboBox" X="0" Y="5"   />
					<LayoutSpan Key="ComboBox" X="1" Y="5"   />
					<LayoutSpan Key="L_DayCount" X="0" Y="6"   />
					<LayoutSpan Key="DayCount" X="1" Y="6"   />
				</GridLayout>
			</Layout>
        </LayoutCollection>-->
        <Block>
            <FlexFlowLayoutPanel Area="" BackImagePosition="" BottomMargin="" BottomPadding="" Key="main" LeftMargin="" LeftPadding="" OverflowX="Visible" OverflowY="Visible" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="">
                <ToolBar Area="" BottomMargin="" BottomPadding="" Height="pref" IsDefault="true" Key="main_toolbar" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding=""/>
                <GridLayoutPanel Area="" BackImagePosition="" BottomMargin="" BottomPadding="" Height="100%" Key="content" LeftMargin="" LeftPadding="" OverflowX="Visible" OverflowY="Visible" Padding="5px" RightMargin="" RightPadding="" TopMargin="" TopPadding="">
                    <Label BuddyKey="IDNumber" Area="" BottomMargin="" BottomPadding="" Caption="工号" Key="L_IDNumber" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="0" Y="0"/>
                    <TextEditor Area="" BottomMargin="" BottomPadding="" Caption="工号" Key="IDNumber" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="1" Y="0">
                        <DataBinding ColumnKey="IDNumber" TableKey="VacationRequest"/>
                    </TextEditor>
                    <Label BuddyKey="Name" Area="" BottomMargin="" BottomPadding="" Caption="姓名" Key="L_Name" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="0" Y="1"/>
                    <TextEditor Area="" BottomMargin="" BottomPadding="" Caption="姓名" Key="Name" LeftMargin="" LeftPadding="" Padding="" PromptText="请输入姓名" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="1" Y="1">
                        <DataBinding ColumnKey="Name" TableKey="VacationRequest"/>
                    </TextEditor>
                    <Label BuddyKey="FromTime" Area="" BottomMargin="" BottomPadding="" Caption="开始时间" Key="L_FromTime" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="0" Y="2"/>
                    <DatePicker Area="" BottomMargin="" BottomPadding="" Caption="开始时间" Key="FromTime" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="1" Y="2">
                        <DataBinding ColumnKey="FromTime" TableKey="VacationRequest"/>
                    </DatePicker>
                    <Label BuddyKey="ToTime" Area="" BottomMargin="" BottomPadding="" Caption="结束时间" Key="L_ToTime" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="0" Y="3"/>
                    <DatePicker Area="" BottomMargin="" BottomPadding="" Caption="结束时间" Key="ToTime" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="1" Y="3">
                        <DataBinding ColumnKey="ToTime" TableKey="VacationRequest"/>
                    </DatePicker>
                    <Label BuddyKey="Reason"  Area="" BottomMargin="" BottomPadding="" Caption="事由" Key="L_Reason" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="0" Y="4"/>
                    <TextEditor Area="" BottomMargin="" BottomPadding="" Caption="事由" Key="Reason" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="1" Y="4">
                        <DataBinding ColumnKey="Reason" TableKey="VacationRequest"/>
                    </TextEditor>
                    <Label BuddyKey="ComboBox"  Area="" BottomMargin="" BottomPadding="" Caption="类型" Key="L_ComboBox" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="0" Y="5"/>
                    <ComboBox Area="" BottomMargin="" BottomPadding="" Caption="类型" Editable="false" Key="ComboBox" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="1" Y="5">
                        <DataBinding ColumnKey="Type" TableKey="VacationRequest"/>
                        <Item Caption="事假" Key="1" Value="1"/>
                        <Item Caption="年假" Key="2" Value="2"/>
                        <Item Caption="补修" Key="3" Value="3"/>
                    </ComboBox>
                    <Label BuddyKey="DayCount"  Area="" BottomMargin="" BottomPadding="" Caption="总计" Key="L_DayCount" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="0" Y="6"/>
                    <NumberEditor Area="" BottomMargin="" BottomPadding="" Caption="总计" Key="DayCount" LeftMargin="" LeftPadding="" Padding="" RightMargin="" RightPadding="" TopMargin="" TopPadding="" X="1" Y="6">
                        <DataBinding ColumnKey="DayCount" TableKey="VacationRequest"/>
                    </NumberEditor>
                    <RowDefCollection RowGap="5" RowHeight="25">
                        <RowDef/>
                        <RowDef/>
                        <RowDef/>
                        <RowDef/>
                        <RowDef/>
                        <RowDef/>
                        <RowDef Height="24px"/>
                    </RowDefCollection>
                    <ColumnDefCollection>
                        <ColumnDef Width="50%"/>
                        <ColumnDef Width="50%"/>
                    </ColumnDefCollection>
                </GridLayoutPanel>
            </FlexFlowLayoutPanel>
        </Block>
    </Body>
</Form>
