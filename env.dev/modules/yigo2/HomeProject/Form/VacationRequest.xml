<?xml version="1.0" encoding="utf-8"?>
<Form Key="VacationRequest" Caption="请假申请" FormType="Entity">
	<DataSource >
		<DataObject Caption="请假单" Key="VacationRequest" PrimaryTableKey="VacationRequest" PrimaryType="Entity">
			<TableCollection>
				<Table Caption="基本信息" DBTableName="VacationRequest" Key="VacationRequest" Persist="true" TableMode="Head">
					<Column Caption="对象标识" DBColumnName="OID" DataType="Long" Key="OID" Persist="true"/>
					<Column Caption="父对象标识" DBColumnName="POID" DataType="Long" Key="POID" Persist="true"/>
					<Column Caption="主对象标识" DBColumnName="SOID" DataType="Long" Key="SOID" Persist="true"/>
					<Column Caption="对象版本" DBColumnName="VERID" DataType="Integer" Key="VERID" Persist="true"/>
					<Column Caption="对象明细版本" DBColumnName="DVERID" DataType="Integer" Key="DVERID" Persist="true"/>
					<Column Caption="单据状态" DBColumnName="STATUS" DataType="Integer" Key="STATUS" Persist="true"/>
					<Column Caption="工号" DataType="Varchar" Key="IDNumber" Length="50" Persist="true"/>
					<Column Caption="姓名" DBColumnName="Name" DataType="Varchar" Key="Name" Length="50" Persist="true"/>
					<Column Caption="开始时间" DataType="DateTime" Key="FromTime" Persist="true"/>
					<Column Caption="结束时间" DataType="DateTime" Key="ToTime" Persist="true"/>
					<Column Caption="事由" DataType="Varchar" Key="Reason" Length="250" Persist="true"/>
					<Column Caption="类型" DataType="Integer" Key="Type" Persist="true"/>
					<Column Caption="总计" DataType="Integer" Key="DayCount" Persist="true"/>
				</Table>
			</TableCollection>
		</DataObject>
	</DataSource>

	<OperationCollection>
	    <Operation Caption="WORKITEM" Key="WORKITEM" Tag="WORKITEM"/>
        <Operation Caption="BPM" Key="BPM" Tag="BPM"/>
		<Operation Key="tool_save" Caption="保存" Visible="!ReadOnly()">
			<Action>
				<![CDATA[
					SaveData();		
					UpdateView();
				]]>	
			</Action>
		</Operation>
		
		<!--
		<Operation Key="tool_edit" Caption="编辑">
			<Action>
				<![CDATA[
					edit();
				]]>	
			</Action>
		</Operation>
		<Operation Key="tool_delete" Caption="删除">
			<Action>
				<![CDATA[
					DeleteData();	
				]]>	
			</Action>
		</Operation>
		-->
	</OperationCollection>
	<OnLoad>

<![CDATA[
	LoadData();
]]>
    </OnLoad>
	<Body>     
		<Block>
			<LinearLayoutPanel Key="main" Orientation="VERTICAL" >
				<ToolBar Key="tool" IsDefault="true" />
				<FluidTableLayoutPanel Key="content" Width="100%" Height="100%">
					<TableColumnCollection>
						<TableColumn Width="100dp"/>
						<TableColumn Width="100%"/>
					</TableColumnCollection>
					<Label Key="L_IDNumber"
						BuddyKey="IDNumber"
						Caption="工号"  />
					<TextEditor 
						Key="IDNumber"
						Caption="工号"   >
						<DataBinding 
							ColumnKey="IDNumber" 
							TableKey="VacationRequest"/>
					</TextEditor>
					<Label
						Key="L_Name" 
						BuddyKey="Name"  
						Caption="姓名" />
					<TextEditor 
						Key="Name"
						Caption="姓名"  
						PromptText="请输入姓名">
						<DataBinding 
							ColumnKey="Name"
							TableKey="VacationRequest"/>
					</TextEditor>
					<Label 
						Key="L_FromTime"
						BuddyKey="FromTime" 
						Caption="开始时间" />
					<DatePicker 
						Key="FromTime" 
						Caption="开始时间"  >
						<DataBinding 
							ColumnKey="FromTime" 
							TableKey="VacationRequest"/>
					</DatePicker>
					<Label 
						Key="L_ToTime"
						BuddyKey="ToTime" 
						Caption="结束时间"  />
					<DatePicker 
						Key="ToTime"
						Caption="结束时间"  >
						<DataBinding 
							ColumnKey="ToTime" 
							TableKey="VacationRequest"/>
					</DatePicker>
					<Label 
						Key="L_Reason"
						BuddyKey="Reason" 
						Caption="事由" />
					<TextEditor 
						Key="Reason"
						Caption="事由"  >
						<DataBinding 
							ColumnKey="Reason" 
							TableKey="VacationRequest"/>
					</TextEditor>
					<Label 
						Key="L_ComboBox"
						BuddyKey="ComboBox"  
						Caption="类型"  />
					<ComboBox 
						Key="ComboBox"
						Caption="类型"
						Editable="false" >
						<DataBinding 
							ColumnKey="Type" 
							TableKey="VacationRequest"/>
						<Item Caption="事假" Key="1" Value="1"/>
						<Item Caption="年假" Key="2" Value="2"/>
						<Item Caption="补修" Key="3" Value="3"/>
					</ComboBox>
					<Label 
						Key="L_DayCount"
						BuddyKey="DayCount"  
						Caption="总计"/>
					<NumberEditor
						Key="DayCount"				
						Caption="总计"  >
						<DataBinding 
							ColumnKey="DayCount" 
							TableKey="VacationRequest"/>
					</NumberEditor>
					
					
					
				</FluidTableLayoutPanel>
			</LinearLayoutPanel>
		</Block>    
	</Body>
</Form>